import{k as f,o as r,c as i,a as e,F as c,w as g,v as _,f as h,r as m,t as p,n as x,b as k}from"./app.f1df47c4.js";import{_ as w}from"./_plugin-vue_export-helper.cdc0426e.js";const v={data(){return{pesan:"",pesans:[],halamanPesanAktif:1,editMode:!0}},methods:{kirim(){!this.pesan||f.Inertia.post("/api/pesan",{isi:this.pesan,id:this.$parent.$parent.user.id,param:this.$parent.$parent.user.url},{onSuccess:()=>{alert("berhasil mengirim pesan"),this.getPesan(),this.editMode=!1},onError:t=>{console.log(t)}})},ubahHalaman(t){this.halamanPesanAktif=t},async getPesan(){this.pesans=[];let t=await fetch("/api/pesan");t=await t.json();let s=[];if(this.$parent.$parent.user){const o=t.find(l=>l.undangan_id===this.$parent.$parent.user.id);o?(console.log("punya pesan"),s=t.filter(l=>l.undangan_id!==this.$parent.$parent.user.id),s.unshift(o),this.pesan=o.isi):s=t}else s=t;for(;s.length;)this.pesans.push(s.splice(0,5))}},async mounted(){await this.getPesan(),this.pesan&&(this.editMode=!1)},computed:{jumlahHalamanPesan(){return this.pesans.length}}},b={class:"group-index-content"},y={class:"isi py-20"},P={class:"rounded shadow-xl p-4 md:p-8",style:{"background-color":"rgba(240, 240, 240, 0.6)"}},C={style:{"background-image":"url('/img/bg.png')"},class:"border-yellow border-4 p-4 sm:p-20 flex flex-col items-center justify-center space-y-2"},M=e("h1",{class:"judul"},"Pesan dan Harapan",-1),j={class:"flex flex-col items-start space-y-2"},z=e("svg",{"clip-rule":"evenodd",class:"w-5 shrink-0","fill-rule":"evenodd","stroke-linejoin":"round","stroke-miterlimit":"2",viewBox:"0 0 64 64",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink"},[e("linearGradient",{id:"_Linear1",gradientTransform:"matrix(64 64 -64 64 0 0)",gradientUnits:"userSpaceOnUse",x1:"0",x2:"1",y1:"0",y2:"0"},[e("stop",{offset:"0","stop-color":"#13603B"}),e("stop",{offset:"1","stop-color":"#A2C122"})]),e("g",{id:"Solid-Gradient"},[e("path",{d:"m32 29c-11.643 0-21.096 9.453-21.096 21.096 0 2.785 1.823 5.163 5.053 6.835 3.892 2.013 9.963 3.069 16.043 3.069s12.151-1.056 16.043-3.069c3.23-1.672 5.053-4.05 5.053-6.835 0-11.643-9.453-21.096-21.096-21.096zm0-26c-6.623 0-12 5.377-12 12s5.377 12 12 12 12-5.377 12-12-5.377-12-12-12z",fill:"url(#_Linear1)"})])],-1),B={class:"text-start"},$={class:"font-comforta-bold text-lg capitalize"},A=e("p",{class:"text-light-green flex items-center"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",class:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor"},[e("path",{"fill-rule":"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm1-12a1 1 0 10-2 0v4a1 1 0 00.293.707l2.828 2.829a1 1 0 101.415-1.415L11 9.586V6z","clip-rule":"evenodd"})]),k(" 1 bulan yang lalu ")],-1),H={class:"text-sm"},L={class:"flex rounded-lg overflow-scroll w-48"},V=["onClick"];function S(t,s,o,l,a,d){return r(),i("div",b,[e("div",y,[e("div",P,[e("div",C,[M,t.$parent.$parent.user?(r(),i(c,{key:0},[a.editMode?(r(),i(c,{key:0},[g(e("textarea",{style:{"background-color":"rgba(240, 240, 240, 0.6)"},class:"shadow-lg rounded-lg p-2 w-full focus:border outline-none focus:border-dark-green","onUpdate:modelValue":s[0]||(s[0]=n=>a.pesan=n)},null,512),[[_,a.pesan]]),e("button",{class:"btn btn-sm",onClick:s[1]||(s[1]=(...n)=>d.kirim&&d.kirim(...n))}," Kirim ")],64)):(r(),i("button",{key:1,class:"btn",onClick:s[2]||(s[2]=n=>a.editMode=!0)}," Edit Komentar "))],64)):h("",!0),e("div",j,[a.pesans.length?(r(!0),i(c,{key:0},m(a.pesans[a.halamanPesanAktif-1],(n,u)=>(r(),i("div",{key:u,class:"flex items-start"},[z,e("div",B,[e("h2",$,p(n.undangan.nama.toLowerCase()),1),A,e("p",H,p(n.isi),1)])]))),128)):h("",!0)]),e("div",L,[(r(!0),i(c,null,m(d.jumlahHalamanPesan,n=>(r(),i("button",{class:x(["p-2 hover:bg-green-gradient hover:text-lime-200 hover:border-none",[n===a.halamanPesanAktif?"btn rounded-none border-none":"border-y"]]),key:n,onClick:u=>d.ubahHalaman(n)},p(n),11,V))),128))])])])])])}const K=w(v,[["render",S]]);export{K as default};
